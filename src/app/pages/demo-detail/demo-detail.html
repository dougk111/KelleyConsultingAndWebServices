<div class="demo-detail">
  @if (demo(); as currentDemo) {
    <!-- Header Section -->
    <section class="demo-header section">
      <div class="container">
        <div class="breadcrumb">
          <a routerLink="/demos">← Back to Demos</a>
        </div>
        <h1>{{ currentDemo.title }}</h1>
        <p class="demo-subtitle">{{ currentDemo.subtitle }}</p>
      </div>
    </section>

    <!-- Overview Section -->
    <section class="demo-overview section">
      <div class="container">
        <div class="overview-content">
          <div class="overview-text">
            <h2>Overview</h2>
            <p>{{ currentDemo.description }}</p>
            <h3>What problem this solves</h3>
            <p>
              This brochure site helps local businesses present their services clearly,
              build trust with potential customers, and convert visitors into leads
              through prominent contact points and persuasive content.
            </p>
            <h3>Ideal use case</h3>
            <p>
              Small, service-based local businesses (plumbers, landscapers, salons,
              consultants) that need an online presence to showcase services and
              capture inquiries.
            </p>
          </div>

          <div class="demo-screenshot">
            <button type="button" class="screenshot-thumb" aria-label="Open preview" (click)="openPreview()">
              <img
                src="/assets/demos/small-business.svg"
                alt="Small business demo screenshot"
                loading="lazy"
                width="800"
                height="450"
                (click)="openPreview('/assets/demos/small-business.svg')"
              />
            </button>
            <div class="screenshot-caption">Click to enlarge preview</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section class="demo-features section">
      <div class="container">
        <h2>Key Features</h2>
        <div class="features-grid">
          @for (feature of currentDemo.features; track feature) {
            <div class="feature-item">
              <span class="feature-icon">✓</span>
              <p>{{ feature }}</p>
            </div>
          }
        </div>
      </div>
    </section>

    <!-- Tech Stack Section -->
    <section class="tech-stack section">
      <div class="container">
        <h2>Technology Stack</h2>
        <div class="tech-tags">
          @for (tech of currentDemo.techStack; track tech) {
            <span class="tech-tag">{{ tech }}</span>
          }
        </div>
      </div>
    </section>

    <!-- Highlights Section -->
    <section class="highlights section">
      <div class="container">
        <h2>Project Highlights</h2>
        <ul class="highlights-list">
          @for (highlight of currentDemo.highlights; track highlight) {
            <li>{{ highlight }}</li>
          }
        </ul>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="demo-cta section">
      <div class="container">
        <div class="cta-content">
          <h2>Interested in a Similar Solution?</h2>
          <p>Let's discuss how we can create a custom web solution for your business needs.</p>
          <div class="cta-actions">
            <a routerLink="/demo-sites/small-business" class="btn primary">Open Live Demo</a>
            <a routerLink="/contact" class="btn">Request Similar Solution</a>
            @if (demo(); as currentDemo) {
              @if (currentDemo.id === 'service-booking') {
                <a routerLink="/demos/service-booking/request-quote" class="btn primary">Request a Quote</a>
                <a routerLink="/demos/service-booking/customer" class="btn primary">View Customer Portal</a>
              }
            }
          </div>
          @if (demo(); as currentDemo) {
            @if (currentDemo.id === 'service-booking') {
              <p class="cta-helper">Track requests, appointment status, quotes, and uploads.</p>
            }
          }
        </div>
      </div>
    </section>

    @if (previewOpen();) {
      <div class="preview-modal" role="dialog" aria-modal="true">
        <div class="preview-inner">
          <button class="preview-close" (click)="closePreview()">✕</button>
          <img src="{{ previewSrc() }}" alt="Preview" loading="lazy" width="1200" height="675" />
        </div>
        <div class="preview-backdrop" (click)="closePreview()"></div>
      </div>
    }
  } @else {
    <section class="section">
      <div class="container">
        <h1>Demo Not Found</h1>
        <p>The requested demo could not be found.</p>
        <a routerLink="/demos" class="btn">Back to Demos</a>
      </div>
    </section>
  }
</div>
